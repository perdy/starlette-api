#!/usr/bin/env bash
set -e

run_black()
{
  printf "\nâ€¢ Run Black code formatting: "
  poetry run black "$@"
  printf "â†³ Black done\n\n"
}

run_flake8()
{
  echo "â€¢ Run Flake8 code analysis:"
  poetry run flake8
  printf "â†³ Flake8 done\n\n"
}

run_isort()
{
  echo "â€¢ Run Isort imports formatting:"
  poetry run isort "$@"
  printf "â†³ Isort done\n\n"
}

run_mypy()
{
  echo "â€¢ Run Mypy static type checking:"
  poetry run mypy "$@"
  printf "â†³ Mypy done\n\n"
}

run_lint()
{
  echo "ðŸ§¹ Code lint using multiple tools:"
  run_black --check .
  run_isort --check .
  run_flake8
  run_mypy .
}

run_lint "$@"